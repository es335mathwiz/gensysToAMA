function [residual, g1, g2] = rbc_dynamic(y, x)
% 
% Status : Computes dynamic model for Dynare
% 
% Warning : this file is generated automatically by Dynare
%   from model file (.mod)

global M_ it_
if M_.param_nbr > 0
  params =  M_.params;
end

	% 
	% Model equations
	% 

residual = zeros(7, 1);
T1129268324 = params(1)*1.0/y(10);
T1129268329 = params(4)*y(5)^(params(4)-1.0);
T1129268335 = (exp(y(12))*y(11))^(1.0-params(4));
T1129268339 = 1.0+T1129268329*T1129268335-params(3);
T1129268348 = y(1)^params(4);
T1129268352 = exp(y(9))^(1.0-params(4));
T1129268353 = (1.0-params(4))*T1129268348*T1129268352;
T1129268355 = y(7)^(-params(4));
T1129268363 = (y(7)*exp(y(9)))^(1.0-params(4));
T1129268386 = params(1)*(-1.0)/(y(10)*y(10));
T1129268392 = params(4)*(params(4)-1.0)*y(5)^(params(4)-1.0-1.0);
T1129268393 = T1129268335*T1129268392;
T1129268399 = exp(y(12))*y(11)*(1.0-params(4))*(exp(y(12))*y(11))^(1.0-params(4)-1.0);
T1129268400 = T1129268329*T1129268399;
T1129268403 = exp(y(12))*(1.0-params(4))*(exp(y(12))*y(11))^(1.0-params(4)-1.0);
T1129268404 = T1129268329*T1129268403;
T1129268411 = (-params(4))*y(7)^((-params(4))-1.0);
T1129268416 = exp(y(9))*(1.0-params(4))*(y(7)*exp(y(9)))^(1.0-params(4)-1.0);
T1129268424 = params(4)*y(1)^(params(4)-1.0);
T1129268426 = T1129268352*(1.0-params(4))*T1129268424;
T1129268434 = exp(y(9))*(1.0-params(4))*exp(y(9))^(1.0-params(4)-1.0);
T1129268435 = (1.0-params(4))*T1129268348*T1129268434;
T1129268438 = y(7)*exp(y(9))*(1.0-params(4))*(y(7)*exp(y(9)))^(1.0-params(4)-1.0);
T1129268472 = (1.0-params(4)-1.0)*(exp(y(12))*y(11))^(1.0-params(4)-1.0-1.0);
T1129268474 = (1.0-params(4))*exp(y(12))*y(11)*T1129268472;
T1129268534 = (1.0-params(4)-1.0)*(y(7)*exp(y(9)))^(1.0-params(4)-1.0-1.0);
T1129268536 = (1.0-params(4))*exp(y(9))*T1129268534;
lhs =1.0/y(4);
rhs =T1129268324*T1129268339;
residual(1)= lhs-rhs;
lhs =y(4)*params(2)/(1.0-y(7));
rhs =T1129268353*T1129268355;
residual(2)= lhs-rhs;
lhs =y(4)+y(6);
rhs =y(3);
residual(3)= lhs-rhs;
lhs =y(3);
rhs =T1129268348*T1129268363;
residual(4)= lhs-rhs;
lhs =y(6);
rhs =y(5)-y(1)*(1.0-params(3));
residual(5)= lhs-rhs;
lhs =y(8);
rhs =y(3)/y(7);
residual(6)= lhs-rhs;
lhs =y(9);
rhs =params(5)*y(2)+x(it_, 1);
residual(7)= lhs-rhs;
if nargout >= 2,
  g1 = zeros(7, 13);

	% 
	% Jacobian matrix
	% 

  g1(1, 4)=  g1(1, 4)+(-1.0)/(y(4)*y(4));
  g1(1, 10)=  g1(1, 10)+(-(T1129268339*T1129268386));
  g1(1, 5)=  g1(1, 5)+(-(T1129268324*T1129268393));
  g1(1, 12)=  g1(1, 12)+(-(T1129268324*T1129268400));
  g1(1, 11)=  g1(1, 11)+(-(T1129268324*T1129268404));
  g1(2, 4)=  g1(2, 4)+params(2)*(1.0-y(7))/((1.0-y(7))*(1.0-y(7)));
  g1(2, 7)=  g1(2, 7)+y(4)*params(2)/((1.0-y(7))*(1.0-y(7)))-T1129268353*T1129268411;
  g1(2, 1)=  g1(2, 1)+(-(T1129268355*T1129268426));
  g1(2, 9)=  g1(2, 9)+(-(T1129268355*T1129268435));
  g1(3, 4)=  g1(3, 4)+1.0;
  g1(3, 6)=  g1(3, 6)+1.0;
  g1(3, 3)=  g1(3, 3)+(-1.0);
  g1(4, 7)=  g1(4, 7)+(-(T1129268348*T1129268416));
  g1(4, 1)=  g1(4, 1)+(-(T1129268363*T1129268424));
  g1(4, 9)=  g1(4, 9)+(-(T1129268348*T1129268438));
  g1(4, 3)=  g1(4, 3)+1.0;
  g1(5, 5)=  g1(5, 5)+(-1.0);
  g1(5, 1)=  g1(5, 1)+1.0-params(3);
  g1(5, 6)=  g1(5, 6)+1.0;
  g1(6, 7)=  g1(6, 7)+(-((-y(3))/(y(7)*y(7))));
  g1(6, 3)=  g1(6, 3)+(-(y(7)/(y(7)*y(7))));
  g1(6, 8)=  g1(6, 8)+1.0;
  g1(7, 9)=  g1(7, 9)+1.0;
  g1(7, 2)=  g1(7, 2)+(-params(5));
  g1(7, 13)=  g1(7, 13)+(-1.0);
end
if nargout >= 3,
  g2 = sparse([],[],[],7, 169, 845);

	% 
	% Hessian matrix
	% 

  g2(1, 43) = (y(4)+y(4))/(y(4)*y(4)*y(4)*y(4));
  g2(1, 127) = (-(T1129268339*params(1)*(y(10)+y(10))/(y(10)*y(10)*y(10)*y(10))));
  g2(1, 62) = (-(T1129268386*T1129268393));
  g2(1, 57) = (-(T1129268324*T1129268335*params(4)*(params(4)-1.0)*(params(4)-1.0-1.0)*y(5)^(params(4)-1.0-1.0-1.0)));
  g2(1, 153) = (-(T1129268386*T1129268400));
  g2(1, 148) = (-(T1129268324*T1129268392*T1129268399));
  g2(1, 155) = (-(T1129268324*T1129268329*(T1129268399+exp(y(12))*y(11)*T1129268474)));
  g2(1, 140) = (-(T1129268386*T1129268404));
  g2(1, 135) = (-(T1129268324*T1129268392*T1129268403));
  g2(1, 142) = (-(T1129268324*T1129268329*(T1129268403+exp(y(12))*T1129268474)));
  g2(1, 141) = (-(T1129268324*T1129268329*exp(y(12))*(1.0-params(4))*exp(y(12))*T1129268472));
  g2(2, 82) = params(2)*(1.0-y(7))*(1.0-y(7))/((1.0-y(7))*(1.0-y(7))*(1.0-y(7))*(1.0-y(7)));
  g2(2, 85) = (-(y(4)*params(2)*((-(1.0-y(7)))-(1.0-y(7)))))/((1.0-y(7))*(1.0-y(7))*(1.0-y(7))*(1.0-y(7)))-T1129268353*(-params(4))*((-params(4))-1.0)*y(7)^((-params(4))-1.0-1.0);
  g2(2, 7) = (-(T1129268411*T1129268426));
  g2(2, 1) = (-(T1129268355*T1129268352*(1.0-params(4))*params(4)*(params(4)-1.0)*y(1)^(params(4)-1.0-1.0)));
  g2(2, 111) = (-(T1129268411*T1129268435));
  g2(2, 105) = (-(T1129268355*(1.0-params(4))*T1129268424*T1129268434));
  g2(2, 113) = (-(T1129268355*(1.0-params(4))*T1129268348*(T1129268434+exp(y(9))*(1.0-params(4))*exp(y(9))*(1.0-params(4)-1.0)*exp(y(9))^(1.0-params(4)-1.0-1.0))));
  g2(4, 85) = (-(T1129268348*exp(y(9))*T1129268536));
  g2(4, 7) = (-(T1129268416*T1129268424));
  g2(4, 1) = (-(T1129268363*params(4)*(params(4)-1.0)*y(1)^(params(4)-1.0-1.0)));
  g2(4, 111) = (-(T1129268348*(T1129268416+y(7)*exp(y(9))*T1129268536)));
  g2(4, 105) = (-(T1129268424*T1129268438));
  g2(4, 113) = (-(T1129268348*(T1129268438+y(7)*exp(y(9))*(1.0-params(4))*y(7)*exp(y(9))*T1129268534)));
  g2(6, 85) = (-((-((-y(3))*(y(7)+y(7))))/(y(7)*y(7)*y(7)*y(7))));
  g2(6, 33) = (-((y(7)*y(7)-y(7)*(y(7)+y(7)))/(y(7)*y(7)*y(7)*y(7))));
  g2(1, 122) = g2(1, 62);
  g2(1, 129) = g2(1, 153);
  g2(1, 64) = g2(1, 148);
  g2(1, 128) = g2(1, 140);
  g2(1, 63) = g2(1, 135);
  g2(1, 154) = g2(1, 142);
  g2(2, 46) = g2(2, 82);
  g2(2, 79) = g2(2, 7);
  g2(2, 87) = g2(2, 111);
  g2(2, 9) = g2(2, 105);
  g2(4, 79) = g2(4, 7);
  g2(4, 87) = g2(4, 111);
  g2(4, 9) = g2(4, 105);
  g2(6, 81) = g2(6, 33);
end;
