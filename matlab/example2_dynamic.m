function [residual, g1, g2] = example2_dynamic(y, x)
% 
% Status : Computes dynamic model for Dynare
% 
% Warning : this file is generated automatically by Dynare
%   from model file (.mod)

global M_ it_
if M_.param_nbr > 0
  params =  M_.params;
end

	% 
	% Model equations
	% 

residual = zeros(6, 1);
T829250621 = exp(y(5))*params(5)*exp(y(8))^(1.0+params(6));
T829250639 = exp(y(5))*exp(y(9))/(exp(y(12))*exp(y(11)));
T829250647 = params(3)*exp(y(12))*exp(y(10))+exp(y(6))*(1.0-params(4));
T829250656 = exp(y(7))*exp(y(1))^params(3);
T829250657 = exp(y(8))^(1.0-params(3));
T829250658 = T829250656*T829250657;
T829250682 = exp(y(12))*exp(y(11))*exp(y(12))*exp(y(11));
T829250683 = exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))/T829250682;
T829250686 = (-(params(1)*T829250647*T829250683));
T829250693 = exp(y(8))*(1.0+params(6))*exp(y(8))^(1.0+params(6)-1.0);
T829250694 = exp(y(5))*params(5)*T829250693;
T829250698 = exp(y(8))*(1.0-params(3))*exp(y(8))^(1.0-params(3)-1.0);
T829250709 = (-(exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))))/T829250682;
T829250710 = T829250647*T829250709;
T829250724 = exp(y(7))*exp(y(1))*params(3)*exp(y(1))^(params(3)-1.0);
T829250743 = (-(params(1)*T829250647*exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))*T829250682/(T829250682*T829250682)));
T829250749 = T829250647*T829250682*(-(exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))))/(T829250682*T829250682);
T829250753 = (-(params(1)*(T829250749+params(3)*exp(y(12))*exp(y(10))*T829250683)));
T829250762 = T829250647*(T829250682*(-(exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))))-(-(exp(y(5))*exp(y(9))*exp(y(12))*exp(y(11))))*(T829250682+T829250682))/(T829250682*T829250682);
T829250763 = params(3)*exp(y(12))*exp(y(10))*T829250709+T829250762;
lhs =T829250621;
rhs =(1.0-params(3))*exp(y(4));
residual(1)= lhs-rhs;
lhs =exp(y(6));
rhs =params(1)*T829250639*T829250647;
residual(2)= lhs-rhs;
lhs =exp(y(4));
rhs =T829250658;
residual(3)= lhs-rhs;
lhs =exp(y(6));
rhs =exp(y(9))*(exp(y(4))-exp(y(5)))+(1.0-params(4))*exp(y(1));
residual(4)= lhs-rhs;
lhs =y(7);
rhs =params(2)*y(2)+params(7)*y(3)+x(it_, 1);
residual(5)= lhs-rhs;
lhs =y(9);
rhs =y(2)*params(7)+params(2)*y(3)+x(it_, 2);
residual(6)= lhs-rhs;
if nargout >= 2,
  g1 = zeros(6, 14);

	% 
	% Jacobian matrix
	% 

  g1(1, 5)=  g1(1, 5)+T829250621;
  g1(1, 8)=  g1(1, 8)+T829250694;
  g1(1, 4)=  g1(1, 4)+(-((1.0-params(3))*exp(y(4))));
  g1(2, 5)=  g1(2, 5)+T829250686;
  g1(2, 6)=  g1(2, 6)+exp(y(6))-params(1)*T829250639*exp(y(6))*(1.0-params(4));
  g1(2, 9)=  g1(2, 9)+T829250686;
  g1(2, 12)=  g1(2, 12)+(-(params(1)*(T829250710+T829250639*params(3)*exp(y(12))*exp(y(10)))));
  g1(2, 11)=  g1(2, 11)+(-(params(1)*T829250710));
  g1(2, 10)=  g1(2, 10)+(-(params(1)*T829250639*params(3)*exp(y(12))*exp(y(10))));
  g1(3, 8)=  g1(3, 8)+(-(T829250656*T829250698));
  g1(3, 4)=  g1(3, 4)+exp(y(4));
  g1(3, 7)=  g1(3, 7)+(-T829250658);
  g1(3, 1)=  g1(3, 1)+(-(T829250657*T829250724));
  g1(4, 5)=  g1(4, 5)+(-(exp(y(9))*(-exp(y(5)))));
  g1(4, 4)=  g1(4, 4)+(-(exp(y(4))*exp(y(9))));
  g1(4, 6)=  g1(4, 6)+exp(y(6));
  g1(4, 9)=  g1(4, 9)+(-(exp(y(9))*(exp(y(4))-exp(y(5)))));
  g1(4, 1)=  g1(4, 1)+(-((1.0-params(4))*exp(y(1))));
  g1(5, 7)=  g1(5, 7)+1.0;
  g1(5, 2)=  g1(5, 2)+(-params(2));
  g1(5, 3)=  g1(5, 3)+(-params(7));
  g1(5, 13)=  g1(5, 13)+(-1.0);
  g1(6, 9)=  g1(6, 9)+1.0;
  g1(6, 2)=  g1(6, 2)+(-params(7));
  g1(6, 3)=  g1(6, 3)+(-params(2));
  g1(6, 14)=  g1(6, 14)+(-1.0);
end
if nargout >= 3,
  g2 = sparse([],[],[],6, 196, 980);

	% 
	% Hessian matrix
	% 

  g2(1, 61) = T829250621;
  g2(1, 103) = T829250694;
  g2(1, 106) = exp(y(5))*params(5)*(T829250693+exp(y(8))*(1.0+params(6))*exp(y(8))*(1.0+params(6)-1.0)*exp(y(8))^(1.0+params(6)-1.0-1.0));
  g2(1, 46) = (-((1.0-params(3))*exp(y(4))));
  g2(2, 61) = T829250743;
  g2(2, 75) = (-(params(1)*exp(y(6))*(1.0-params(4))*T829250683));
  g2(2, 76) = exp(y(6))-params(1)*T829250639*exp(y(6))*(1.0-params(4));
  g2(2, 117) = T829250743;
  g2(2, 118) = (-(params(1)*exp(y(6))*(1.0-params(4))*T829250683));
  g2(2, 121) = T829250743;
  g2(2, 159) = T829250753;
  g2(2, 160) = (-(params(1)*exp(y(6))*(1.0-params(4))*T829250709));
  g2(2, 163) = T829250753;
  g2(2, 166) = (-(params(1)*(T829250763+T829250639*params(3)*exp(y(12))*exp(y(10))+params(3)*exp(y(12))*exp(y(10))*T829250709)));
  g2(2, 145) = (-(params(1)*T829250749));
  g2(2, 146) = (-(params(1)*exp(y(6))*(1.0-params(4))*T829250709));
  g2(2, 149) = (-(params(1)*T829250749));
  g2(2, 152) = (-(params(1)*T829250763));
  g2(2, 151) = (-(params(1)*T829250762));
  g2(2, 131) = (-(params(1)*params(3)*exp(y(12))*exp(y(10))*T829250683));
  g2(2, 135) = (-(params(1)*params(3)*exp(y(12))*exp(y(10))*T829250683));
  g2(2, 138) = (-(params(1)*(T829250639*params(3)*exp(y(12))*exp(y(10))+params(3)*exp(y(12))*exp(y(10))*T829250709)));
  g2(2, 137) = (-(params(1)*params(3)*exp(y(12))*exp(y(10))*T829250709));
  g2(2, 136) = (-(params(1)*T829250639*params(3)*exp(y(12))*exp(y(10))));
  g2(3, 106) = (-(T829250656*(T829250698+exp(y(8))*(1.0-params(3))*exp(y(8))*(1.0-params(3)-1.0)*exp(y(8))^(1.0-params(3)-1.0-1.0))));
  g2(3, 46) = exp(y(4));
  g2(3, 92) = (-(T829250656*T829250698));
  g2(3, 91) = (-T829250658);
  g2(3, 8) = (-(T829250698*T829250724));
  g2(3, 7) = (-(T829250657*T829250724));
  g2(3, 1) = (-(T829250657*exp(y(7))*(exp(y(1))*params(3)*exp(y(1))^(params(3)-1.0)+exp(y(1))*params(3)*exp(y(1))*(params(3)-1.0)*exp(y(1))^(params(3)-1.0-1.0))));
  g2(4, 61) = (-(exp(y(9))*(-exp(y(5)))));
  g2(4, 46) = (-(exp(y(4))*exp(y(9))));
  g2(4, 76) = exp(y(6));
  g2(4, 117) = (-(exp(y(9))*(-exp(y(5)))));
  g2(4, 116) = (-(exp(y(4))*exp(y(9))));
  g2(4, 121) = (-(exp(y(9))*(exp(y(4))-exp(y(5)))));
  g2(4, 1) = (-((1.0-params(4))*exp(y(1))));
  g2(1, 64) = g2(1, 103);
  g2(2, 62) = g2(2, 75);
  g2(2, 65) = g2(2, 117);
  g2(2, 79) = g2(2, 118);
  g2(2, 68) = g2(2, 159);
  g2(2, 82) = g2(2, 160);
  g2(2, 124) = g2(2, 163);
  g2(2, 67) = g2(2, 145);
  g2(2, 81) = g2(2, 146);
  g2(2, 123) = g2(2, 149);
  g2(2, 165) = g2(2, 152);
  g2(2, 66) = g2(2, 131);
  g2(2, 122) = g2(2, 135);
  g2(2, 164) = g2(2, 138);
  g2(2, 150) = g2(2, 137);
  g2(3, 105) = g2(3, 92);
  g2(3, 99) = g2(3, 8);
  g2(3, 85) = g2(3, 7);
  g2(4, 65) = g2(4, 117);
  g2(4, 51) = g2(4, 116);
end;
